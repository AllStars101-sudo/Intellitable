<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}

    <meta charset="UTF-8">
    <title>Multi Step Form</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'main/css/formwizard.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="{% static 'main/js/formwizard.js' %}"></script>
</head>
<body>
<!-- MultiStep Form -->
<div class="row">
    <div class="col-md-12 text-center" style="color:#fff;border:1px solid white;padding:10px;margin:15px;">
        <h2>Now comes the boring part</h2>
        <h3>But don't worry. We'll hold your hand through this.</h3>
    </div>
</div>
<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <form id="msform" action="{% url 'usrinp_save' %}" method="post">
            {% csrf_token %}
            <!-- progressbar -->
            <ul id="progressbar">
                <li class="active">Credentials</li>
                <li>First Subject</li>
                <li>Second Subject</li>
                <li>Third Subject</li>
                <li>Fourth Subject</li>
                <li>Fifth Subject</li>
            </ul>
            <!-- fieldsets -->
            <fieldset>
                <h2 class="fs-title">Let's know about you.</h2>
                <h3 class="fs-subtitle">What do you want us to call you?</h3>
                <input type="text" name="username" placeholder="Username"/>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Now, let's get to learn about your academics</h2>
                <h3 class="fs-subtitle">PSSST: Did you know? The word 'academics' comes from the word 'Academy', which derives from the Athenian hero, Akademos</h3>
                <h3 class = "fs-subtitle">Enter a subject that you learn followed by your scores for the last 5 exams. Remember to type your scores between 0-100 only.</h3>
                <input type="text" name="subject1" placeholder="Subject"/>
                <label for="quantity">Exam Results:</label>
                <input type="number" name="sub1exam1" min="0" max="100" placeholder="Exam 1">
                <input type="number" name="sub1exam2" min="0" max="100" placeholder="Exam 2">
                <input type="number" name="sub1exam3" min="0" max="100" placeholder="Exam 3">
                <input type="number" name="sub1exam4" min="0" max="100" placeholder="Exam 4">
                <input type="number" name="sub1exam5" min="0" max="100" placeholder="Exam 5">
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Go on, only 3 more left!</h2>
                <input type="text" name="subject2" placeholder="Subject"/>
                <label for="quantity">Exam Results:</label>
                <input type="number" name="sub2exam1" min="0" max="100" placeholder="Exam 1"/>
                <input type="number" name="sub2exam2" min="0" max="100" placeholder="Exam 2"/>
                <input type="number" name="sub2exam3" min="0" max="100" placeholder="Exam 3"/>
                <input type="number" name="sub2exam4" min="0" max="100" placeholder="Exam 4"/>
                <input type="number" name="sub2exam5" min="0" max="100" placeholder="Exam 5"/>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Go on, only 2 more left!</h2>
                <input type="text" name="subject3" placeholder="Subject"/>
                <label for="quantity">Exam Results:</label>
                <input type="number" name="sub3exam1" min="0" max="100" placeholder="Exam 1"/>
                <input type="number" name="sub3exam2" min="0" max="100" placeholder="Exam 2"/>
                <input type="number" name="sub3exam3" min="0" max="100" placeholder="Exam 3"/>
                <input type="number" name="sub3exam4" min="0" max="100" placeholder="Exam 4"/>
                <input type="number" name="sub3exam5" min="0" max="100" placeholder="Exam 5"/>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">Go on, only 1 more left!</h2>
                <input type="text" name="subject4" placeholder="Subject"/>
                <label for="quantity">Exam Results:</label>
                <input type="number" name="sub4exam1" min="0" max="100" placeholder="Exam 1"/>
                <input type="number" name="sub4exam2" min="0" max="100" placeholder="Exam 2"/>
                <input type="number" name="sub4exam3" min="0" max="100" placeholder="Exam 3"/>
                <input type="number" name="sub4exam4" min="0" max="100" placeholder="Exam 4"/>
                <input type="number" name="sub4exam5" min="0" max="100" placeholder="Exam 5"/>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="button" name="next" class="next action-button" value="Next"/>
            </fieldset>
            <fieldset>
                <h2 class="fs-title">This is it, soon you'll have Intellitable up and running!</h2>
                <input type="text" name="subject5" placeholder="Subject"/>
                <label for="quantity">Exam Results:</label>
                <input type="number" name="sub5exam1" min="0" max="100" placeholder="Exam 1"/>
                <input type="number" name="sub5exam2" min="0" max="100" placeholder="Exam 2"/>
                <input type="number" name="sub5exam3" min="0" max="100" placeholder="Exam 3"/>
                <input type="number" name="sub5exam4" min="0" max="100" placeholder="Exam 4"/>
                <input type="number" name="sub5exam5" min="0" max="100" placeholder="Exam 5"/>
                <input type="button" name="previous" class="previous action-button-previous" value="Previous"/>
                <input type="submit" name="submit" class="submit action-button" value="Submit"/>
            </fieldset>
        </form>
    </div>
</div>
<div class="row">
        <div class="col-lg-12">
            <div class="form-group">
                <br><br><br>
                 {% if messages %}
                        {% for message in messages %}
                            {% if message.tags == 'success' %}
                                <div class="alert alert-success">{{ message }}</div>
                            {% elif message.tags == 'error' %}
                                <div class="alert alert-danger">{{ message }}</div>
                            {% endif %}
                        {% endfor %}
                 {% endif %}
            </div>
        </div>
</div>
<script>
    var current_fs, next_fs, previous_fs; //fieldsets
    var left, opacity, scale; //fieldset properties which we will animate
    var animating; //flag to prevent quick multi-click glitches

    $(".next").click(function(){
        if(animating) return false;
        animating = true;

        current_fs = $(this).parent();
        next_fs = $(this).parent().next();

        //activate next step on progressbar using the index of next_fs
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

        //show the next fieldset
        next_fs.show();
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function(now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale current_fs down to 80%
                scale = 1 - (1 - now) * 0.2;
                //2. bring next_fs from the right(50%)
                left = (now * 50)+"%";
                //3. increase opacity of next_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({
            'transform': 'scale('+scale+')',
            'position': 'absolute'
          });
                next_fs.css({'left': left, 'opacity': opacity});
            },
            duration: 800,
            complete: function(){
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });

    $(".previous").click(function(){
        if(animating) return false;
        animating = true;

        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();

        //de-activate current step on progressbar
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

        //show the previous fieldset
        previous_fs.show();
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function(now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale previous_fs from 80% to 100%
                scale = 0.8 + (1 - now) * 0.2;
                //2. take current_fs to the right(50%) - from 0%
                left = ((1-now) * 50)+"%";
                //3. increase opacity of previous_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({'left': left});
                previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
            },
            duration: 800,
            complete: function(){
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });
</script>
</body>
</html>